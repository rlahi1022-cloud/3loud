// ============================================================================
// 파일명: file_settings.hpp
// 목적: 파일 설정 메뉴 인터페이스 선언부
// ============================================================================

#pragma once

#include <string>
#include <cstdint>

// ─────────────────────────────────────────────────────────────
// 파일 설정 구조체
// ─────────────────────────────────────────────────────────────
struct FileSettings
{
    int64_t     max_recv_size;   // 받을 파일 최대 크기 (bytes, 0 = 제한 없음)
    std::string download_dir;    // 다운로드 저장 폴더 경로
};

// ─────────────────────────────────────────────────────────────
// 설정 로드 / 저장
// ─────────────────────────────────────────────────────────────
FileSettings load_file_settings();
void         save_file_settings(const FileSettings& s);

// ─────────────────────────────────────────────────────────────
// 유효한 다운로드 폴더 반환
// ─────────────────────────────────────────────────────────────
std::string get_download_dir(const FileSettings& s);

// ─────────────────────────────────────────────────────────────
// 파일 설정 메인 메뉴 (skeleton_client에서 호출)
// ─────────────────────────────────────────────────────────────
void handle_file_settings_menu(int sock);